import{_ as D,A as P,i as S,a as x,b as A}from"./index-d1ccb639.js";import{u as N,j as U,U as z,a as t,o as n,c as _,b as o,q as c,w as a,t as s,v as b,x as m,z as k,l as F,T as L,$ as R,a0 as V,G as j,I as E,J as M}from"./vendor-b5206b48.js";import{u as T}from"./subscribe-51d6c223.js";import{F as G}from"./Footer-aa216de4.js";import{c as J}from"./index-9f2c079c.js";const y=d=>(E("data-v-8c2e558d"),d=d(),M(),d),O={key:0},H={class:"profile-container"},K={class:"username"},Q={class:"logout"},W={class:"account-cards"},X={key:0,class:"account-card"},Y={key:0,class:"num"},Z={key:1,class:"num"},oo=y(()=>o("div",{class:"unit"},"days",-1)),so={class:"tit"},eo={key:1,class:"account-card"},to={class:"num"},no=y(()=>o("div",{class:"unit"},"days",-1)),ao={class:"tit"},io={class:"account-card"},co={class:"num"},ro={class:"unit"},lo={class:"tit"},_o={class:"buttons"},uo=y(()=>o("div",{style:{"padding-bottom":"50px"}},null,-1)),po={__name:"Profile",setup(d){const g=N(),q=U(),{expiredDays:v,leftFlowObj:w,subscribe:u}=T(q.query.refresh);function C(){F.remove(P),location.reload()}async function I(e){const i=u.token,r=u.subscribe_url;let l="";switch(r?l=r:l=`${location.origin}/api/v1/client/subscribe?token=${i}`,e){case"copy":J(l),L.success(S.global.t("invite.链接已复制"));break;case"qrcode":const p=await qrcode.toDataURL(l);qr.imgUrl=p,qr.visible=!0;break;case"shadowrocket":openClient("shadowrocket://add/sub://"+window.btoa(l+"&flag=shadowrocket").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")+"?remark="+APP_NAME,e);break}}return(e,i)=>{const r=R,l=x,p=V,f=j,B=A,h=z("wave");return t(u).loaded?(n(),_("div",O,[o("div",H,[c(p,{gutter:[10,10]},{default:a(()=>[c(r,null,{default:a(()=>[o("div",K,s(t(u).email),1)]),_:1}),c(r,null,{default:a(()=>[o("div",Q,[c(l,{name:"power",weight:"fill",onClick:C,size:"50px"})])]),_:1})]),_:1}),o("div",W,[c(p,{gutter:[25,25]},{default:a(()=>[c(r,{md:12,xs:24},{default:a(()=>[t(v)!==null?(n(),_("div",X,[t(v)>0?(n(),_("div",Y,s(t(v)),1)):(n(),_("div",Z,s(e.$t("profile.无订阅或流量已用完")),1)),oo,o("div",so,s(e.$t("profile.剩余时间")),1)])):(n(),_("div",eo,[o("div",to,s(e.$t("profile.永久有效")),1),no,o("div",ao,s(e.$t("profile.剩余时间")),1)]))]),_:1}),c(r,{md:12,xs:24},{default:a(()=>[o("div",io,[o("div",co,s(t(w).num),1),o("div",ro,s(t(w).unit),1),o("div",lo,s(e.$t("profile.剩余流量")),1)])]),_:1})]),_:1})]),o("div",_o,[b((n(),m(f,{type:"primary",onClick:i[0]||(i[0]=$=>t(g).push("/plan"))},{default:a(()=>[k(s(e.$t("profile.立即续费")),1)]),_:1})),[[h]]),b((n(),m(f,{type:"primary",onClick:i[1]||(i[1]=$=>t(g).push("/download"))},{default:a(()=>[k(s(e.$t("profile.下载程序")),1)]),_:1})),[[h]]),b((n(),m(f,{type:"primary",onClick:i[2]||(i[2]=$=>I("copy"))},{default:a(()=>[k(s(e.$t("profile.复制订阅链接")),1)]),_:1})),[[h]])]),uo]),c(G)])):(n(),m(B,{key:1}))}}},ko=D(po,[["__scopeId","data-v-8c2e558d"]]);export{ko as default};
