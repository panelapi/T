import{b as v}from"./browser-e933942f.js";import{j as h,u as f,r as g,m as y,T as w,U as x,o as p,c as b,b as s,t as c,a as l,v as I,x as S,w as k,z as q,G as B,I as T,J as C}from"./vendor-b5206b48.js";import{g as D}from"./order-a8d984dd.js";import{_ as P}from"./index-d1ccb639.js";const R=o=>(T("data-v-185a681b"),o=o(),C(),o),W={class:"pay-qrcode"},j={class:"wrapper"},N={class:"site"},Q=R(()=>s("div",{class:"red-text"}," ！!"+c("请尽快支付，支付完成后，请返回并刷新")+"！！ ",-1)),U={class:"qr-code-container"},z={class:"qr-code"},M=["src"],V={__name:"PayQr",setup(o){const i=h(),n=f(),r=g("");let d=0;y(()=>{const{img:t,orderId:e}=i.query;u(t),_(e)});function u(t){const e=decodeURIComponent(t);e.endsWith("jpg")||e.endsWith("png")||e.endsWith("jpeg")||e.endsWith("webp")||e.includes("data:image")?r.value=e:v.toDataURL(e).then(a=>{r.value=a})}function _(t){d=setTimeout(()=>{t&&D(t).then(e=>{Number(e.data)===3?(clearTimeout(d),w.success("购买成功"),n.replace("/profile?refresh=1")):_(t)})},3e3)}return(t,e)=>{const a=B,m=x("wave");return p(),b("div",W,[s("div",j,[s("div",N,c("订单编号")+"："+c(l(i).query.orderId),1),Q,s("div",U,[s("div",z,[s("img",{src:r.value},null,8,M)])]),I((p(),S(a,{type:"primary",size:"large",style:{width:"140px",margin:"20px auto"},onClick:e[0]||(e[0]=E=>l(n).replace("/profile"))},{default:k(()=>[q("返回")]),_:1})),[[m]])])])}}},$=P(V,[["__scopeId","data-v-185a681b"]]);export{$ as default};
